<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="../../select2.css" />
	<link rel="stylesheet" href="themes/base/jquery.ui.all.css" />
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
	<script type="text/javascript" src="../../select2.js"></script>
	<style>
		#container { width: 200px; }
		#alter { width: 198px; height: 300px; border: 1px solid #CCC; margin-top: 6px; }
		
		.select2-drop { overflow: auto; }
		.select2-results { max-height: none; }
		.select2-results .select2-result-label { padding: 0; }
		.ui-button { width: 100%; }
		.ui-button-text { font-size: 0.7em; }
		
	</style>
</head>
<body>
	<div id="container">
		<select multiple="multiple">
			<option value="Jenna">Jenna with a kickstand bulletproof mustache</option>
			<option value="Chasey">Chasey</option>
			<option value="Silvia">Silvia</option>
			<option value="Olivia">Olivia</option>
			<option value="Helen">Helen</option>
			<option value="Anna">Anna</option>
			<option value="Sophia">Sophia</option>
			<option value="Lanna">Lanna</option>
			<option value="Lunna">Lunna</option>
			<option value="Marie">Marie</option>
		</select>
	</div>
	<div id="alter"></div>
	<script type="text/javascript">
		var fr = function(o, c, q){
			var ts = q.term != "" ? o.text.split(q.term) : [o.text, ""];
			return ['<button class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-secondary">',
						'<span class="ui-button-text">',ts[0],q.term != "" ? '<span class="select2-match">' + q.term + '</span>' : "",ts[1],'</span>',
						'<span class="ui-button-icon-secondary ui-icon ui-icon-circle-plus"></span>',
					'</button>'].join('');
		};
		
		$("#container select").select2({ width: "200px", altfield: "#alter", formatResult: fr, maximumSelectionSize: 5});
	</script>
</body>
</html>